<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="A .NET Tool for Extracting DAC Packages">
    <meta name="author" content="devlead">

  <title>@devlead - Mattias Karlsson&#x27;s Blog - Introducing UnpackDacPac</title>

  <link rel="canonical" href="https://www.devlead.se/posts/2023/2023-11-29-introducing-unpackdacpac">

      <link type="application/rss+xml" rel="alternate" title="@devlead - Mattias Karlsson&#x27;s Blog" href="/feed.rss" />
      <link type="application/atom+xml" rel="alternate" title="@devlead - Mattias Karlsson&#x27;s Blog" href="/feed.atom" />
  
  <meta name="application-name" content="@devlead - Mattias Karlsson&#x27;s Blog" />
  <meta name="msapplication-tooltip" content="@devlead - Mattias Karlsson&#x27;s Blog" />
  <meta name="msapplication-starturl" content="/" />

  <meta property="og:title" content="@devlead - Mattias Karlsson&#x27;s Blog - Introducing UnpackDacPac" />
    <meta property="og:image" content="https://cdn.devlead.se/clipimg-vscode/2023/11/29/d29f363677f845559d19401cd5a47318.jpg?sv=2021-10-04&amp;st=2023-11-29T17%3A14%3A21Z&amp;se=2035-11-30T17%3A14%3A00Z&amp;sr=b&amp;sp=r&amp;sig=ga7enWBL804T0haYj29QJE7hvaV14REXobavSOZ4wwU%3D" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://www.devlead.se/posts/2023/2023-11-29-introducing-unpackdacpac" />
  
  <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
  <link rel="icon" href="/favicon.ico" type="image/x-icon">

  <!-- Bootstrap core CSS -->
  <link href="/vendor/bootstrap/scss/bootstrap.css" rel="stylesheet">

  <!-- Custom fonts for this template -->
  <link href="/vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">
  <link href="/vendor/fontawesome-free/css/brands.min.css" rel="stylesheet" type="text/css">
  <link href='https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css' data-no-mirror>
  <link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css' data-no-mirror>
  
  <!-- Custom styles for this template -->
  <link href="/scss/clean-blog.css" rel="stylesheet">
  
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.19.0/components/prism-core.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.19.0/plugins/autoloader/prism-autoloader.min.js" data-no-mirror></script>
  <script src="https://cdn.jsdelivr.net/npm/quicklink@2.0.0/dist/quicklink.umd.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.19.0/themes/prism.css">

  <!-- Lunr search -->
  
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
<style>
.sponsorship { text-align: center; margin-top: 1em; }
.sponsorship a { text-decoration: none; }
.sponsorship a i.fa-heart { color: red; }
.sponsorship a:hover i { color: white; transition-property: color; transition-duration: 350ms; }
</style>
<link href="/scss/TabGroup.css" rel="stylesheet" type="text/css">


  

</head>

<body>

  <!-- Navigation -->
  <nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav">
  <div class="container">
    <a class="navbar-brand" href="/">@devlead - Mattias Karlsson&#x27;s Blog</a>
    <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
      Menu
      <i class="fas fa-bars"></i>
    </button>
    <div class="collapse navbar-collapse" id="navbarResponsive">
      <ul class="navbar-nav ml-auto">
            <li class="nav-item">
                <a class="nav-link" href="/posts">Posts</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="/tags">Tags</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="/about">About</a>
            </li>
</ul>
    </div>
  </div>
</nav>

  <!-- Page Header -->
  <header class="masthead" style="background-image: url(&quot;https://cdn.devlead.se/clipimg-vscode/2023/11/29/d29f363677f845559d19401cd5a47318.jpg?sv=2021-10-04&amp;st=2023-11-29T17%3A14%3A21Z&amp;se=2035-11-30T17%3A14%3A00Z&amp;sr=b&amp;sp=r&amp;sig=ga7enWBL804T0haYj29QJE7hvaV14REXobavSOZ4wwU%3D&quot;)">
  <div class="overlay"></div>
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <div class="post-heading">
          <h1>
            Introducing UnpackDacPac
          </h1>
            <h2 class="subheading">A .NET Tool for Extracting DAC Packages</h2>
              <div class="meta">Published on Wednesday, 29 November 2023</div>
                <div class="mt-3">
                      <a href="/tags/net" class="badge badge-light"> .NET</a>
                      <a href="/tags/sql" class="badge badge-light"> SQL</a>
                      <a href="/tags/dacpac" class="badge badge-light"> Dacpac</a>
                      <a href="/tags/dacfx" class="badge badge-light"> Dacfx</a>
                      <a href="/tags/tool" class="badge badge-light"> Tool</a>
                </div>
        </div>
      </div>
    </div>
  </div>
</header>

  <!-- Main Content -->
  <div class="container"> 
    <div class="row">
      <div id="content" class="col-md-12">  
        <p>If you work with SQL Server databases, you may have encountered DAC packages, or dacpacs, which are a way of packaging a database's schema and seed data for deployment or migration. Dacpacs are useful for deploying databases to different environments, such as development, testing, or production, but it's tooling comes with some limitations. For example, you cannot easily inspect the contents of a dacpac file without having a running instance of SQL Server.</p>
<p>That's why I created UnpackDacPac, a .NET tool that enables you to extract a dacpac file and generate a deployment script to a target folder without the need to deploy it to an actual database. A really useful for example when you need to debug a failed deployment or retrieve an old version of a SQL object from just a DevOps build artifact.
UnpackDacPac is a cross-platform tool that runs on .NET SDK 6, 7, and 8 (<em>If you don't have the .NET SDK installed, you can get it from <a href="https://get.dot.net/">here</a></em>).</p>
<h2 id="installation">Installation</h2>
<p>You can install UnpackDacPac as a global tool from the command line by typing:</p>
<pre><code class="language-bash">dotnet tool install --global UnpackDacPac
</code></pre>
<h2 id="usage">Usage</h2>
<p>The usage of UnpackDacPac is simple:</p>
<pre><code class="language-bash">unpackdacpac unpack &lt;dacPacPath&gt; &lt;outputPath&gt; [OPTIONS]
</code></pre>
<p>For example, if you have a dacpac file named Source.dacpac and you want to extract it to a folder named TargetPath, you can run:</p>
<pre><code class="language-bash">unpackdacpac unpack Source.dacpac TargetPath
</code></pre>
<p>This will create the following files in the TargetPath folder:</p>
<ul>
<li><code>DacMetadata.xml</code>: This file contains the metadata of the dacpac, such as the name, version, description, and dependencies of the database.</li>
<li><code>Deploy.sql</code>: This file contains the generated deployment script that can be used to create or update a database from the dacpac.</li>
<li><code>model.sql</code>: This file contains the formatted SQL code that defines the schema and data of the database.</li>
<li><code>model.xml</code>: This file contains the XML representation of the database model.</li>
<li><code>Origin.xml</code>: This file contains the origin information of the dacpac, such as the source server and database name.</li>
<li><code>postdeploy.sql</code>: This file contains any post-deployment scripts that are included in the dacpac.</li>
</ul>
<p>One of the features of UnpackDacPac is that you can exclude certain types of objects from the generated deployment script by using the <code>--deploy-script-exclude-object-type</code> parameter. For example, if you want to exclude users, logins, and role memberships from the deployment script, you can run:</p>
<pre><code class="language-bash">unpackdacpac unpack Source.dacpac TargetPath --deploy-script-exclude-object-type Users --deploy-script-exclude-object-type Logins --deploy-script-exclude-object-type RoleMembership
</code></pre>
<p>This will generate a deployment script that does not contain statements related to users, logins, or role memberships.</p>
<h2 id="where-to-find-unpackdacpac">Where to find UnpackDacPac?</h2>
<p>UnpackDacPac is an open-source project under a permissive MIT license, the source can be found on <a href="https://github.com/devlead/UnpackDacPac">GitHub</a> and the NuGet package at <a href="https://www.nuget.org/packages/UnpackDacPac">NuGet.org</a>.</p>
<h2 id="feedback-and-suggestions">Feedback and suggestions</h2>
<p>I hope you find UnpackDacPac useful and feel free to provide any feedback, suggestions, or pull requests.</p>
<p><em>Happy unpacking!</em></p>


        <div class="container">
            <div class="row">
                <div class="col-md-12 text-center">
                    <p class="small">This post is licensed under a <a href="http://creativecommons.org/licenses/by/4.0/" rel="license">Creative Commons Attribution 4.0 International License</a></p>
                    <p><div class="sponsorship">
    <a class="btn btn-lg btn-outline-primary btn-block" href="https://github.com/sponsors/devlead" title="Sponsor Mattias Karlsson on GitHub">
        <i class="fa fa-heart"></i>
        Sponsor Mattias
    </a>
</div></p>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12 text-center">
                    <p class="small"><a href="https://github.com/devlead/devlead.se/edit/main/src/DevLead/input/posts/2023/2023-11-29-introducing-unpackdacpac.md"><i class="fas fa-edit"></i> Edit This Page <i class="fab fa-github"></i> </a></p>
                </div>
            </div>
        </div>
      </div>
    </div>
  </div>

  <hr>

  <!-- Footer -->  
  <footer>
    <div class="container">
        <div class="row">
                <div class="col-md-12 text-center">
                    <p class="copyright text-muted m-0">&#xA9; Mattias Karlsson 2025</p>
                    <br />
                    <ul class="list-inline text-center small">
                            <li class="list-inline-item">
                                <a href="/feed.rss"><i class="fa fa-rss"></i> RSS Feed</a>
                            </li>
                            <li class="list-inline-item">
                                <a href="/feed.atom"><i class="fa fa-rss"></i> Atom Feed</a>
                            </li>
                    </ul>
                    <br />
                    <div class="font-weight-bold small"><a href="https://statiq.dev">Generated by Statiq</a></div>
                </div>
        </div>
    </div>
</footer>

  <!-- Bootstrap core JavaScript -->
  <script src="/vendor/jquery/jquery.min.js"></script>
  <script src="/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

  <script src="https://unpkg.com/mermaid@8.9.3/dist/mermaid.min.js" integrity="sha384-nVmn6yKHyUktDHdQfBgpn1YPgEu8gDXTYI5qccfkF1j6oxBHjKEafySIuNs3UhEW" crossorigin="anonymous"></script>

  

  <!-- Custom scripts for this template -->
  <script src="/js/clean-blog.js"></script>

</body>

</html>
